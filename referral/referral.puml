@startuml

start
:前端拿到后台的短链接并把链接塞进二维码;
if (扫码进入APP) then (tab)
  :自动登录;
  if(登录) then (yes)
  :return;
  stop
  else (no) 
  :记录是否到了tab页面;
  endif
else (referral)
  :解析并拿到长链接;
endif
  #palegreen:如果拿到到了tab的记录和链接;
:在长链接中拿到referralId;
:跳转到注册登录页面并附带referralId;
stop

@enduml
